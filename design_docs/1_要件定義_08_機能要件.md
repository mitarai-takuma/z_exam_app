# 機能要件
機能要件、共通機能要件、ビジネスルール

## 機能要件一覧
| 業務カテゴリ | 機能要件名 | 概要 | 検討ステータス | 検討メモ | 優先度 |
| --- | --- | --- | --- | --- | --- |
| テスト問題管理 | FR-002: テスト問題一覧表示機能 | インポートされたテスト問題を階層的に一覧表示する機能 | 新規 |  | 高 |
| テスト問題管理 | FR-003: テキストフィルター機能 | 問題文をキーワードで検索できるフィルター機能 | 新規 |  | 中 |
| テスト問題編集 | FR-004: テスト問題詳細表示機能 | 選択されたテスト問題の全項目を詳細表示する機能 | 新規 |  | 高 |
| テスト問題編集 | FR-005: テスト問題編集機能 | テスト問題の全項目を編集できる機能 | 新規 |  | 高 |
| テスト問題編集 | FR-006: LaTeXプレビュー機能 | LaTeX数式をリアルタイムでプレビュー表示する機能 | 新規 |  | 高 |
| インポート/エクスポート | FR-001: CSVインポート機能 | 指定されたCSV形式のテスト問題ファイルをインポートする機能 | 新規 |  | 高 |
| インポート/エクスポート | FR-007: CSVエクスポート機能 | 編集されたテスト問題をCSV形式でエクスポートする機能 | 新規 |  | 中 |

## 機能要件詳細
### ■テスト問題管理 - FR-002: テスト問題一覧表示機能
インポートされたテスト問題を階層的に一覧表示する機能

#### 詳細
- システムはインポートされたテスト問題を「回」と「セクション」でソートして表示すること  
- 一覧表示はサイドバーに配置し、メイン画面との2ペイン構成とすること  
- 「回」と「セクション」ごとに階層化され、開閉可能なツリー構造で表示すること  
- 各テスト問題の概要（ID、問題文の一部など）を表示すること

---

### ■テスト問題管理 - FR-003: テキストフィルター機能
問題文をキーワードで検索できるフィルター機能

#### 詳細
- システムは問題文をキーワードで検索できるフィルター機能を提供すること  
- フィルター条件に合致するテスト問題のみを一覧に表示すること  
- フィルター条件のクリア機能を提供すること

---

### ■テスト問題編集 - FR-004: テスト問題詳細表示機能
選択されたテスト問題の全項目を詳細表示する機能

#### 詳細
- システムは選択されたテスト問題の全項目を詳細表示すること  
- 特に重要な「問題文」「選択肢」「正解に対する解説」は大きく表示すること  
- LaTeX形式の数式（$と$$で囲まれた部分）をプレビュー表示すること

---

### ■テスト問題編集 - FR-005: テスト問題編集機能
テスト問題の全項目を編集できる機能

#### 詳細
- システムはテスト問題の全項目を編集できる機能を提供すること  
- 「確認テスト利用」「単位認定試験利用」はチェックボックスで編集できること  
- 「想定難易度」は1〜4の選択肢から選べること  
- 「回」は1〜15の選択肢から選べること  
- 「セクション」は1〜6の選択肢から選べること  
- 「問題文」「選択肢A〜D」「正解に対する解説」はテキストエリアで編集できること  
- 「正解」はA〜Dの選択肢から選べること  
- 追加項目として「メモ」を記入できるテキストエリアを提供すること

---

### ■テスト問題編集 - FR-006: LaTeXプレビュー機能
LaTeX数式をリアルタイムでプレビュー表示する機能

#### 詳細
- システムは「問題文」「選択肢A〜D」「正解に対する解説」に含まれるLaTeX数式をリアルタイムでプレビュー表示すること  
- $（単一ドル記号）で囲まれたインライン数式と$$（二重ドル記号）で囲まれたブロック数式の両方をサポートすること  
- プレビュー表示は編集画面と並列で表示し、左側に生テキスト、右側にプレビューを表示すること

---

### ■インポート/エクスポート - FR-001: CSVインポート機能
指定されたCSV形式のテスト問題ファイルをインポートする機能

#### 詳細
- システムは指定されたCSV形式のテスト問題ファイルをインポートできること  
- インポート対象のCSVファイルは「確認テスト利用」「単位認定試験利用」「ID」「想定難易度」「回」「セクション」「問題文」「選択肢A」「選択肢B」「選択肢C」「選択肢D」「正解」「正解に対する解説」の列を含むこと  
- インポート処理中にエラーが発生した場合は、適切なエラーメッセージを表示すること

---

### ■インポート/エクスポート - FR-007: CSVエクスポート機能
編集されたテスト問題をCSV形式でエクスポートする機能

#### 詳細
- システムは編集されたテスト問題をCSV形式でエクスポートできること  
- エクスポートされるCSVファイルは「確認テスト利用」「単位認定試験利用」「ID」「想定難易度」「回」「セクション」「問題文」「選択肢A」「選択肢B」「選択肢C」「選択肢D」「正解」「正解に対する解説」の列を含むこと  
- 「メモ」列はエクスポート対象外とすること

---
(c) 株式会社電通総研