---
mode: ['edit', 'agent']
description: '数式とコードの変数名をルールに沿って修正する'
---
# Instructions
1. 数式が以下の#Formular Rulesに従うように、${file}に含まれる数式を修正をしてください。指摘をするのではなく、実際に${file}を修正してください。
2. Pythonコードのなかに数式を表現した変数があれば、その変数名が以下の# Fomular Rulesの方針と整合するように${file}を直接修正してください。指摘をするのではなく、実際に${file}を修正してください。
3. 修正した箇所と、その理由を、チャットとして出力してください。箇所と理由は、${file}には記載しないでください。以下のフォーマットに従ってください。
  <OutputFormats>
    -  見出しごとに構造化して、出力すること
    -  元の文がLatex中の数式の場合は、数式部分だけではなく、数式の直前の文も一緒に出力すること。なぜならLatexだけだと該当箇所が見付けづらいから。
    -  修正理由として、間違い/不整合を簡潔に指摘すること。
    -  フォーマット例:
        ##  <head2の見出し>
          ### <head3の見出し>
          -  <修正箇所を記入>
            - 修正理由: <指摘を記入>
  </OutputFormats>


# Fomular Rules

Latexの数式は、以下のルールに従って記述する必要があります。間違っている場合は${file}を直接修正してください。テキストでの説明は不要です。

## alignについて
- 最初から$$と$$で囲まれている数式は、さらにその内側を\begin{align*}と\end{align*}で囲みます。$$を削除するわけではありません。
    - 上記ルールは、$と$で囲まれている数式には、適用してはいけません。$と$で囲まれている数式は、そのままで大丈夫です。




## 変数の表記について
- スカラーは小文字のアルファベットを用います。例: x, y, w
- ベクトルは\mathbf{ }を使って表現します。例: \mathbf{ x}
- 損失はLを用いて、最適化するパラメータを括弧で囲みます。例: L(\\mathbf{w})
- ${file}内の**同じ意味の変数は、同じ表記に統一**する必要があります。異なった変数を使っていたり、ベクトルとスカラーが混在しないよう、注意してください。

## 添え字について
- 行やインスタンスの添え字はiです。例: x_i
- 列や特徴量を示す添え字はjです。例: x_j

## ベクトルに関して
- ベクトルは、特に指定がない限りは縦ベクトルとします。

## 目的変数に関して
- 予測結果は基本的には \hat{}を用います。しかし、GBDTなど意図的に\hat{}を使わない場合もあります。文脈を考慮して判断してください。

## 重みに関して
- 切片は$w_0$を使います。$b$を使ってはいけません。
- 切片が数式に登場する場合、添え字無しの$w$は使ってはいけません。$w_0$, $w_1$と区別してください。


## 文字列の表記について
- Latex形式の数式の近くにある文字列は、全て\text{}で囲む訳ではありません。
- あくまで、Latex形式の数式（$と$で囲まれた数式）の**内側**に記載された文字列**のみ**を\text{}を使って囲みます。
- Latex形式の数式（$と$で囲まれた数式）の**外側に記載された文字列**は、\text{}で囲んでは**いけません**。




# No Need to Point Out
以下は間違いではないので指摘や修正は不要です。
- 初学者向けの意図的な直感的、あるいは抽象的な表現
- 太字での強調の有無などは指摘不要です。
- x軸やy軸のように、$マークで囲まれていない箇所や、あるいは数式における変数を直接表現を示している訳ではない箇所は、Latexの表記ルールに従う必要はありません。
- ソースコードに含まれる変数は$や$$で囲む必要はありません。※ ただし変数名（w ,x y など）は同じファイル内のlatexの変数名と揃える必要がある
